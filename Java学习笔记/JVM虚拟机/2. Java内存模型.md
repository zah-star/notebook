>《Java虚拟机规范》中曾试图定义一种“Java内存模型”(Java Memory Model, JMM)来屏蔽各种硬件和操作系统的内存访问差异, 以实现让Java程序在各种平台下都能达到一致的内存访问效果. 在此之前, 主流程序语言(如C和C++等)直接使用物理硬件和操作系统的内存模型. 因此, 由于不同平台上内存模型的差异, 有可能导致程序在一套平台上并发完全正常, 而在另外一套平台上并发访问却经常出错, 所以在某些场景下必须针对不同的平台来编写程序.
>
>定义Java内存模型并非一件容易的事, 这个模型必须定义得足够严谨, 才能让Java的并发内存访问操作不会产生歧义; 但是也必须定义得足够宽松, 使得虚拟机的实现能够有足够的自由空间去利用硬件的各种特性(寄存器, 高速缓存和指令集中某些特有的指令)来获取更好的执行速度. 经过长时间的验证和修补, 直到JDK5(实现了JSR-133)发布后, Java内存模型才终于成熟, 完善起来了.
>
>摘自《深入理解Java虚拟机》


